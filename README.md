# mybatis_custom
手写mybatis框架
1.搭建框架环境
    创建项目导入jar包（数据库驱动）,写好核心配置文件，接口，映射文件。
2.分层完成，导入实体类。
3.开发自定义会话工厂：包装一个连接池（druid德鲁伊连接池）。
    a.解析核心配置文件中的信息（同时要包含连接数据库的信息和映射文件中的sql数据信息）。
        -- 创建一个框架包framework代表我们自定义的Mybatis框架。开始解析配置文件和映射文件数据！
        -- 导入dom4j框架包：dom4j-2.1.1.jar
        -- 定义了Configuration和Mapper类用来负责存储核心配置文件和全部映射文件中的信息数据。
        -- 实现创建 Configuration对象的同时在Configuration构造器中进行
           自解析数据存储到当前Configuration对象中。
    b.导入德鲁伊的框架包。我们必须使用Mybatis的核心配置文件作为连接数据库的信息文件!
    c.正式开发出连接工厂类，定义一个MybatisSqlSessionFactoryUtil
    d.定义一个会话类:SqlSession。模拟mybatis的会话对象。会话里面必须要包装Connection连接！
                   SqlSession会话类实现了implements AutoCloseable，成为了资源家族的一员。
4.开始拿着会话SqlSession操作数据库。
    -- 得到会话对象
    -- 得到数据访问层接口的代理对象（难点）
    -- 查询用户数据
    步骤
     1.得到会话对象-加载核心配置文件得到数据源返回会话对象.
     2.得到会话对象：通过会话对象去得到数据访问层接口的代理对象。
     3.以后我们调用数据访问层接口的方法，其实是去找代理执行。
     4.代理在会话中，自带了Connection连接，代理也可以拿到当前执行的方法名称。
     5.代理加载全部的映射文件数据，根据方法的名称去提取对应映射文件中的sql语句。
     6.提取方法参数，把参数注入到sql中。
     7.执行该sql语句接收结果。
     8.解析SQL语句的执行结果，对结果数据进行封装。
     